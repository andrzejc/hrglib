language: c++
os:
  - linux
  - osx
dist: bionic
sudo: required
compiler:
  - clang
  - gcc
install:
  - ci/install_deps.sh
before_script:
  - mkdir -p build
  - cd build
  - cmake -GNinja "-DCMAKE_PREFIX_PATH=$PWD/deps/install" ..
script:
  - ninja
  - ctest --output-on-failure
